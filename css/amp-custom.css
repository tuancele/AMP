/* /css/amp-custom.css */
/* FILE NÀY DÙNG ĐỂ LẬP TRÌNH. SAU KHI SỬA, HÃY NÉN (MINIFY) NỘI DUNG VÀ DÁN VÀO FILE amp-custom.min.css */

*, *::before, *::after { box-sizing: border-box; }
/* === STICKY FOOTER SETUP === */
body { 
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
    line-height: 1.7; 
    margin: 0; 
    background-color: #f4f7f6; 
    color: #333;
    display: flex; /* Bật Flexbox cho body */
    flex-direction: column; /* Xếp theo cột */
    min-height: 100vh; /* Chiều cao tối thiểu bằng viewport */
}
.site-content-wrapper {
    flex-grow: 1; /* Đảm bảo main content chiếm hết không gian còn lại */
}
/* ============================ */
.container { max-width: 900px; margin: 0 auto; padding: 0 15px; }
a { color: #0056b3; text-decoration: none; }
:root { --mau-chinh: #007bff; --mau-chu: #004894; --mau-footer: #1e272e; }
header { background-color: #0056b3; color: white; padding: 1px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
.header-container { display: flex; justify-content: space-between; align-items: center; }
.site-title a { color: white; font-size: 24px; font-weight: bold; }
.menu-button { color: white; font-size: 24px; background: none; border: none; cursor: pointer; }
nav.main-menu { display: none; } 
@media (min-width: 768px) { nav.main-menu { display: block; } .menu-button { display: none; } }
nav.main-menu ul { list-style: none; padding: 0; margin: 0; display: flex; }
nav.main-menu ul li a { color: white; padding: 10px 15px; display: block; }
main { 
    padding: 20px 0; 
    margin-bottom: 40px; /* SỬA LỖI: Tăng khoảng cách an toàn dưới nội dung chính và footer */
}
/* =========================================================================
   TYPOGRAPHY - ĐỊNH NGHĨA KÍCH THƯỚC FONT CHỮ
   Fix lỗi H1UserAgentFontSizeInSection và đảm bảo tính nhất quán.
   ========================================================================= */

/* Kích thước cho tiêu đề chính của trang */
h1, .page-title {
    font-size: 1.5rem; /* 35.2px nếu font gốc là 16px */
}

/* Kích thước cho các tiêu đề cấp thấp hơn */
h2 {
    font-size: 1.5rem;
}

h3 {
    font-size: 1.5rem;
}

/* Tiêu đề thẻ bài viết trên trang archive */
h4, .post-card-title {
    font-size: 1.5rem;
}

h5 {
    font-size: 1.5rem;
}

h6 {
    font-size: 1.5rem;
}
/* CẬP NHẬT: Xóa màu nền cho page-header và title trên trang Category/Archive */
.page-header { 
    text-align: center; 
    padding: 10px 0 20px 0; 
    border-bottom: 1px solid #eee; 
    margin-bottom: 30px;
    background-color: transparent; /* Đảm bảo không có màu nền */
}
.page-header .page-title { 
    color: #333; 
    margin-bottom: 5px; 
    font-size: 2.2rem; 
    font-family: 'Poppins', sans-serif; 
    font-weight: 700;
    background-color: transparent; /* Đảm bảo không có màu nền cho H1 */
}
.archive-description { font-size: 16px; color: #555; max-width: 700px; margin: 15px auto 0; }
@font-face { 
    font-family: 'Poppins'; 
    font-style: normal; 
    font-weight: 700; 
    src: url('/wp-content/themes/amp/assets/fonts/poppins-v20-700.woff2') format('woff2'); 
    font-display: swap; 
}
.posts-grid-container { display: grid; grid-template-columns: 1fr; gap: 20px; }
@media (min-width: 600px) { .posts-grid-container { grid-template-columns: repeat(2, 1fr); gap: 25px; } }
@media (min-width: 900px) { .posts-grid-container { grid-template-columns: repeat(3, 1fr); gap: 30px; } }
.post-card { background-color: #fff; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease; }
.post-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.12); }
.post-card a { text-decoration: none; display: flex; flex-direction: column; height: 100%; }
.post-card-image-wrapper amp-img img { object-fit: cover; }
.post-card-content { padding: 20px; display: flex; flex-direction: column; flex-grow: 1; }
.post-card-title { font-family: 'Poppins', sans-serif; font-size: 1.1rem; line-height: 1.45; color: #20202a; margin: 0 0 15px 0; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3; overflow: hidden; text-overflow: ellipsis; }
.post-card-cta { margin-top: auto; padding-top: 10px; display: flex; align-items: center; color: #005af0; font-weight: 700; font-size: 0.9rem; transition: transform 0.3s ease; }
.post-card a:hover .post-card-cta { transform: translateX(8px); }
.post-card-cta svg { margin-left: 8px; }
.pagination { margin: 60px 0 20px; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
.pagination .nav-links { display: flex; flex-wrap: wrap; justify-content: center; align-items: center; list-style: none; padding: 0; margin: 0; gap: 10px; }
.pagination .page-numbers { display: inline-flex; justify-content: center; align-items: center; height: 44px; min-width: 44px; padding: 0 10px; border: 1px solid #dee2e6; border-radius: 6px; background-color: #fff; color: var(--mau-chu); font-weight: 600; font-size: 16px; text-decoration: none; transition: all 0.2s ease-in-out; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
.pagination a.page-numbers:hover { background-color: #f8f9fa; border-color: #ced4da; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.08); }
.pagination .page-numbers.current { background-color: var(--mau-chu); color: #fff; border-color: var(--mau-chu); box-shadow: 0 4px 10px rgba(0, 86, 179, 0.3); transform: translateY(-2px); }
.pagination .page-numbers.dots { border: none; background: none; box-shadow: none; font-weight: bold; }
.pagination .prev, .pagination .next { padding: 0 10px; }
.pagination a.prev:hover svg { transform: translateX(-3px); }
.pagination a.next:hover svg { transform: translateX(3px); }
.pagination .prev span, .pagination .next span { display: none; }
@media (min-width: 768px) { .pagination .prev span, .pagination .next span { display: inline; margin: 0 8px; } .pagination .prev { padding-left: 15px; } .pagination .next { padding-right: 15px; } }
/* === FOOTER MỚI VÀ CHUYÊN NGHIỆP HƠN === */
footer { 
    background-color: var(--mau-footer); 
    color: #d1d8e0; 
    padding: 30px 0 10px; /* Tăng padding trên để tách khỏi nội dung chính */
    margin-top: auto; /* Đẩy footer xuống dưới cùng (Sticky Footer) */
    border-top: 3px solid var(--mau-chinh);
}
.footer-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 30px;
    padding-bottom: 20px;
}
@media (min-width: 768px) {
    .footer-grid {
        grid-template-columns: 2fr 1fr 1fr; /* Logo/Info, Menu 1, Menu 2 */
    }
}
.footer-col .footer-title {
    color: #fff;
    font-size: 1.1rem;
    font-weight: bold; /* Thêm dòng này để chữ đậm giống h4 */
    margin-top: 0;
    margin-bottom: 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 5px;
}
.footer-col p, .footer-col ul {
    font-size: 0.9rem;
    margin: 0;
    padding: 0;
    list-style: none;
}
.footer-col ul li {
    margin-bottom: 8px;
}
.footer-col a {
    color: #d1d8e0;
    text-decoration: none;
    transition: color 0.2s;
}
.footer-col a:hover {
    color: var(--mau-chinh);
    text-decoration: underline;
}
.footer-hotline {
    display: block;
    margin-top: 15px;
}
.footer-hotline strong {
    color: #fff;
    display: block;
    margin-bottom: 5px;
}
.footer-hotline a {
    color: #ffd700;
    font-size: 1.1rem;
    font-weight: bold;
    border: 1px solid #ffd700;
    border-radius: 4px;
    padding: 5px 10px;
    display: inline-block;
}
.footer-bottom {
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding: 10px 0;
    text-align: center;
    font-size: 0.8rem;
    color: #a4b0be;
}
/* END FOOTER CSS */
amp-sidebar { background-color: #333; width: 250px; }
amp-sidebar nav { padding-top: 20px; }
amp-sidebar nav ul { list-style: none; padding: 0; margin: 0; }
amp-sidebar nav ul li a { display: block; padding: 15px 10px; color: #fff; text-decoration: none; border-bottom: 1px solid #444; font-size: 18px; }
.sticky-cta { position: fixed; bottom: 0; left: 0; right: 0; display: flex; z-index: 1000; height: 45px; }
body { padding-bottom: 0px; }
@media (min-width: 768px) { .sticky-cta { display: none; } body { padding-bottom: 0; } }
.cta-button { flex: 1; display: flex; justify-content: center; align-items: center; font-weight: bold; color: white; text-transform: uppercase; border: none; }
.cta-call { background-color: #007bff; }
.cta-register { background-color: #ffc107; color: #333; }

/* === CSS CHO FORM ĐĂNG KÝ === */
.amp-form-container { background-color: #f0f4f8; border: 2px solid var(--mau-chinh); border-radius: 8px; padding: 25px; margin: 40px 0; }
.amp-form-container .form-title { text-align: center; font-size: 24px; margin-top: 0; margin-bottom: 20px; color: var(--mau-chu); }
.amp-form-container .form-row { margin-bottom: 15px; }
.amp-form-container label { display: block; margin-bottom: 5px; font-weight: 700; font-size: 16px; }
.amp-form-container input[type="text"], .amp-form-container input[type="tel"], .amp-form-container input[type="email"] { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 5px; font-size: 16px; box-sizing: border-box; }
.amp-form-container input[type="submit"] {
    width: 100%;
    padding: 15px;
    background-color: var(--mau-chu); /* ĐỔI SANG MÀU XANH ĐẬM #0056b3 */
    color: #fff;
    border: none;
    border-radius: 5px;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    transition: opacity: 0.3s;}
.form-feedback { text-align: center; padding: 10px; margin-top: 10px; border-radius: 5px; }
.form-success { background-color: #d4edda; color: #155724; }
.form-error { background-color: #f8d7da; color: #721c24; }
.form-submitting { background-color: transparent; }
.validation-error { color: #d8000c; font-size: 14px; font-weight: bold; margin-top: 5px; }

/* FIX: CSS BỔ SUNG CHO MOBILE MENU */
amp-sidebar nav ul.menu-hotline-wrap { list-style: none; padding: 0; margin: 10px 0 0; }
amp-sidebar nav ul.menu-hotline-wrap li a { padding: 10px; }
amp-sidebar nav ul li a { display: block; padding: 15px 10px; color: #fff; text-decoration: none; border-bottom: 1px solid #444; font-size: 18px; width: 100%; box-sizing: border-box; }

/* === CSS CHO BREADCRUMBS === */
.breadcrumb-container { margin: 0 0 20px 0; font-size: 15px; background-color: #f9f9f9; padding: 10px 15px; border-radius: 5px; border: 1px solid #eee; }
.breadcrumbs-list { list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; align-items: center; }
.breadcrumbs-list li { display: flex; align-items: center; }
.breadcrumbs-list li:not(:last-child)::after { content: '»'; margin: 0 8px; color: #555; font-size: 14px; }
.breadcrumbs-list a { color: var(--mau-chu); text-decoration: none; }
.breadcrumbs-list a:hover { text-decoration: underline; }
.breadcrumbs-list .current-item { color: #333; font-weight: 600; }

/* 4. Accessibility
/* ------------------------------------------------------------------------- */
/* Ẩn văn bản dành cho trình đọc màn hình */
.screen-reader-text {
    border: 0;
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: inset(50%);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute; /* Đã xóa !important */
    width: 1px;
    word-wrap: normal; /* Đã xóa !important */
}

/* --- BẮT ĐẦU: CSS CHO ANIMATION NÚT GỬI --- */

/* 1. Định nghĩa keyframe cho animation xoay tròn */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 2. Style cho thẻ <button> mới */
.submit-button {
    position: relative; /* Cần thiết để định vị loader bên trong */
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    padding: 15px;
    background-color: var(--mau-chu);
    color: #fff;
    border: none;
    border-radius: 5px;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.3s;
}

/* 3. Style cho loading spinner (loader) */
.submit-button .loader {
    width: 24px;
    height: 24px;
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-top-color: #fff;
    border-radius: 50%;
    display: none; /* Ẩn loader ở trạng thái mặc định */
    animation: spin 1s linear infinite;
}

/* 4. Kích hoạt animation khi form đang gửi (AMP tự thêm class .amp-form-submitting) */
form.amp-form-submitting .submit-button {
    background-color: #00387b; /* Tăng tương phản cho trạng thái loading */
    cursor: wait; 
}

form.amp-form-submitting .submit-button .button-text {
    display: none; /* Ẩn chữ "Gửi Thông Tin Ngay" */
}

form.amp-form-submitting .submit-button .loader {
    display: block; /* Hiện loader lên */
}

/* --- KẾT THÚC: CSS CHO ANIMATION NÚT GỬI --- */
/* =========================================================================
   CSS CHO THÔNG TIN BÀI VIẾT (POST META)
   ========================================================================= */

.post-meta {
    display: flex; /* Sắp xếp các mục trên một hàng */
    flex-wrap: wrap; /* Cho phép xuống dòng trên màn hình nhỏ */
    align-items: center;
    gap: 5px; /* Khoảng cách giữa các mục */
    margin: 5px 0;
    padding-bottom: 5px;
    border-bottom: 1px solid #eee;
    font-size: 0.7rem; /* Cỡ chữ nhỏ hơn một chút */
    color: #555; /* Màu chữ xám */
}

.post-meta span {
    display: inline-flex; /* Căn chỉnh icon và chữ trên một hàng */
    align-items: center;
}

.post-meta svg {
    width: 16px;
    height: 16px;
    margin-right: 8px; /* Khoảng cách giữa icon và chữ */
    fill: currentColor; /* Icon sẽ tự nhận màu của chữ */
    opacity: 0.8;
}

.post-meta a {
    color: #555; /* Màu của tên tác giả */
    font-weight: 600;
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: color 0.2s, border-color 0.2s;
}

.post-meta a:hover {
    color: var(--mau-chinh); /* Đổi màu khi hover */
    border-bottom-color: var(--mau-chinh);
}
/* =========================================================================
   CSS CHO BẢNG BIỂU (PHIÊN BẢN NÂNG CAO)
   - Tự động co giãn thông minh.
   - Hỗ trợ các lớp tiện ích để kiểm soát chiều rộng cột.
   ========================================================================= */

/* 1. Wrapper: Vẫn giữ vai trò cuộn ngang trên di động */
/* ------------------------------------------------------------------------- */
.content .table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin: 30px 0;
    border: 1px solid #e0e0e0;
    border-radius: 8px; /* Tăng bo góc cho đẹp hơn */
    box-shadow: 0 4px 12px rgba(0,0,0,0.07);
}

/* 2. Nền tảng Table: Linh hoạt hơn */
/* ------------------------------------------------------------------------- */
.content table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem; /* Tăng nhẹ cỡ chữ để dễ đọc */
    /* table-layout: auto; cho phép trình duyệt tự tính toán chiều rộng cột
       dựa trên nội dung, kết hợp với các min-width bên dưới. */
    table-layout: auto; 
}

/* 3. Tế bào (th, td): Thêm min-width để tránh cột bị bóp quá mức */
/* ------------------------------------------------------------------------- */
.content th,
.content td {
    padding: 14px 18px; /* Tăng padding cho thoáng */
    border-bottom: 1px solid #e9ecef;
    text-align: left;
    vertical-align: middle; /* Căn giữa theo chiều dọc */
    /* Đặt một chiều rộng tối thiểu mặc định cho tất cả các cột */
    min-width: 120px; 
}

.content th {
    background-color: #f8f9fa;
    font-weight: 600;
    white-space: nowrap; /* Mặc định không xuống dòng tiêu đề */
    border-bottom-width: 2px;
}

.content tbody tr:last-child td {
    border-bottom: 0;
}

.content tbody tr:hover {
    background-color: #f1f1f1;
}

/* 4. CÁC LỚP TIỆN ÍCH (UTILITY CLASSES) - Phần quan trọng nhất */
/* ------------------------------------------------------------------------- */
/* Bạn sẽ thêm các class này vào thẻ <th> trong trình soạn thảo WordPress */

/* Cho các cột có nội dung tự nhiên (chiều rộng sẽ tự động) */
.col-auto {
    min-width: auto; /* Bỏ min-width mặc định */
    width: 1%; /* Mẹo để cột co lại theo đúng nội dung */
    white-space: nowrap;
}

/* Cho các cột hẹp (STT, ID, Checkbox...) */
.col-small {
    width: 80px;
    min-width: 80px;
}

/* Cho các cột có chiều rộng trung bình (Ngày tháng, Trạng thái...) */
.col-medium {
    width: 150px;
    min-width: 150px;
}

/* Cho các cột rộng (Tên, Mô tả...) */
.col-wide {
    width: 300px;
    min-width: 300px;
}

/* Ép buộc một cột không bao giờ xuống dòng (Giá tiền, Mã SKU...) */
.col-nowrap {
    white-space: nowrap;
}
/* =========================================================================
   UX NÂNG CAO: THÊM CHỈ BÁO CUỘN NGANG CHO BẢNG
   Tạo hiệu ứng ">>" để người dùng biết có thể vuốt sang phải.
   ========================================================================= */

/* 1. Định nghĩa animation "nhấp nháy" */
/* ------------------------------------------------------------------------- */
@keyframes nudge-right {
    0%, 100% {
        transform: translateX(0);
        opacity: 0.8;
    }
    50% {
        transform: translateX(5px); /* Di chuyển nhẹ sang phải */
        opacity: 1;
    }
}

/* 2. Chuẩn bị Wrapper */
/* ------------------------------------------------------------------------- */
/* Bắt buộc phải thêm position: relative để định vị chỉ báo bên trong */
.content .table-wrapper {
    position: relative;
}

/* 3. Tạo và định dạng chỉ báo (chỉ trên màn hình nhỏ) */
/* ------------------------------------------------------------------------- */
/* Media query này sẽ chỉ áp dụng style bên trong cho các màn hình có chiều rộng
   tối đa là 900px (khi các bảng có khả năng bị tràn). */
@media (max-width: 900px) {
    .content .table-wrapper::after {
        content: '»'; /* Ký tự mũi tên sang phải */
        
        /* Định vị tuyệt đối ở giữa cạnh phải */
        position: absolute;
        top: 50%;
        right: 8px; /* Khoảng cách với lề */
        transform: translateY(-50%);
        z-index: 10;
        
        /* Style cho chỉ báo */
        display: flex;
        align-items: center;
        justify-content: center;
        width: 30px;
        height: 30px;
        background-color: rgba(255, 255, 255, 0.9);
        border: 1px solid #ddd;
        border-radius: 50%;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        color: var(--mau-chinh);
        font-size: 24px;
        font-weight: bold;
        line-height: 1;
        
        /* Áp dụng animation */
        animation: nudge-right 1.8s ease-in-out infinite;
        
        /* Ngăn người dùng vô tình chọn phải ký tự */
        pointer-events: none; 
    }
}

/* === CSS TỐI ƯU CHO KHU VỰC BÌNH LUẬN (PHIÊN BẢN MOBILE-FIRST & COMPACT) === */

/* 1. Container chính: Giảm nhẹ padding trên mobile */
/* ------------------------------------------------------------------------- */
main.container .comments-area {
    background-color: #ffffff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06);
    margin-top: 20px;
    border-top: none; 
}
@media (max-width: 600px) {
    main.container .comments-area {
        padding: 12px; /* Giảm padding */
        margin-top: 15px;
    }
}

/* 2. Tiêu đề: Giảm lề dưới */
/* ------------------------------------------------------------------------- */
.comments-area .comments-title,
.comments-area .comment-reply-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--mau-chu);
    margin: 0 0 15px 0; /* Giảm lề dưới */
    padding-bottom: 8px;
    border-bottom: 1px solid #f0f4f8;
}

/* 3. Danh sách & Item bình luận: Bỏ padding/margin, dùng border để ngăn cách */
/* ------------------------------------------------------------------------- */
.comments-area .comment-list,
.comments-area li.comment,
.comments-area .comment-body {
    margin: 0;
    padding: 0;
    list-style-type: none;
}
.comments-area li.comment {
    padding-bottom: 12px; /* Khoảng cách tối thiểu */
    margin-bottom: 12px;
    border-bottom: 1px solid #f0f4f8;
}
.comments-area li.comment:last-of-type {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}

/* 4. Meta bình luận: Căn chỉnh gọn gàng, avatar nhỏ hơn */
/* ------------------------------------------------------------------------- */
main.container .comments-area footer.comment-meta {
    display: flex;
    align-items: center;
    gap: 8px; /* Khoảng cách giữa avatar và tên */
    margin-bottom: 8px;
    padding: 0;
    background-color: transparent;
    border-top: none;
}
.comments-area .comment-author img.avatar {
    width: 32px; /* Thu nhỏ avatar */
    height: 32px;
    border-radius: 50%;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
}
.comments-area .comment-author .fn {
    font-weight: 700;
    font-size: 0.9rem;
    color: #343434;
}
.comments-area .comment-metadata a {
    font-size: 0.75rem;
    color: #666666;
    text-decoration: none;
}

/* 5. Nội dung bình luận: Bỏ thụt lề, giảm padding */
/* ------------------------------------------------------------------------- */
.comments-area .comment-content {
    margin: 0; /* **QUAN TRỌNG**: Bỏ thụt lề trái */
    padding: 8px 12px; /* Giảm padding */
    font-size: 0.9rem;
    line-height: 1.6;
    color: #495057;
    background-color: #f8f9fa;
    border-radius: 6px;
    border: 1px solid #e9ecef;
}
.comments-area .comment-content p {
    margin: 0;
    padding: 0;
}

/* 6. Style Tác giả & Chờ duyệt (Giữ nguyên tính năng) */
/* ------------------------------------------------------------------------- */
li.bypostauthor .comment-author img.avatar {
    box-shadow: 0 0 0 2px var(--mau-chinh);
}
li.bypostauthor .comment-author::after {
    content: 'Tác giả';
    display: inline-block;
    background-color: var(--mau-chinh);
    color: #ffffff;
    font-size: 10px;
    font-weight: 700;
    padding: 2px 6px;
    border-radius: 10px;
    margin-left: 8px;
    vertical-align: middle;
}
.comments-area .comment-awaiting-moderation {
    font-style: italic;
    color: #856404;
    background-color: #fff3cd;
    padding: 8px 12px;
    border-radius: 5px;
}

/* 7. Bình luận trả lời: Giảm lề thụt vào */
/* ------------------------------------------------------------------------- */
.comments-area .comment-list .children {
    list-style-type: none;
    margin: 12px 0 0 0;
    padding: 0 0 0 15px; /* Giảm lề thụt vào */
    border-left: 2px solid #e9ecef;
}

/* 8. Form gửi bình luận (Giữ nguyên toàn bộ tính năng và style) */
/* ------------------------------------------------------------------------- */
.comments-area .comment-respond {
    padding: 0; margin-top: 30px; background-color: transparent; box-shadow: none;
}
.comments-area .comment-form p { margin-bottom: 15px; }
.comments-area .comment-form label { display: block; font-weight: 600; margin-bottom: 5px; font-size: 0.9rem; color: #495057; }
.comments-area .comment-form input[type="text"],
.comments-area .comment-form input[type="email"],
.comments-area .comment-form textarea {
    width: 100%; padding: 12px; border: 1px solid #ced4da; border-radius: 6px; font-size: 0.95rem; box-sizing: border-box; background-color: #f8f9fa; transition: all 0.2s;
}
.comments-area .comment-form input:focus,
.comments-area .comment-form textarea:focus {
    outline: none; border-color: var(--mau-chinh); background-color: #ffffff; box-shadow: 0 0 0 3px rgba(var(--mau-chinh-rgb), 0.15);
}
.comments-area .comment-form textarea#comment {
    height: 50px; overflow: hidden; resize: none; transition: height 0.3s ease-in-out, border-color 0.2s, box-shadow 0.2s, background-color 0.2s;
}
.comments-area .comment-form textarea#comment:focus { height: 100px; }
.comments-area .comment-form-fields-grid { display: flex; flex-wrap: wrap; gap: 15px; }
.comments-area .comment-form-fields-grid .comment-form-author,
.comments-area .comment-form-fields-grid .comment-form-email { flex: 1; min-width: 180px; margin: 0; }
.comments-area .comment-form .submit-button {
    position: relative; display: inline-flex; justify-content: center; align-items: center; padding: 10px 25px; font-size: 0.95rem; background-color: var(--mau-chu); color: #ffffff; border-radius: 50px; font-weight: 700; transition: transform 0.2s, box-shadow 0.2s; border: none; box-shadow: 0 4px 10px rgba(var(--mau-chinh-rgb), 0.3); width: auto;
}
.comments-area .comment-form .submit-button:hover { transform: translateY(-2px); box-shadow: 6px 15px rgba(var(--mau-chinh-rgb), 0.4); }
.comments-area .comment-form .submit-button .loader {
    width: 24px; height: 24px; border: 3px solid rgba(255, 255, 255, 0.3); border-top-color: #ffffff; border-radius: 50%; display: none; animation: spin 1s linear infinite;
}
.comments-area form.amp-form-submitting .submit-button { cursor: wait; }
.comments-area form.amp-form-submitting .submit-button .button-text { display: none; }
.comments-area form.amp-form-submitting .submit-button .loader { display: block; }
/* =========================================================================
   CSS NÂNG CAO CHO AMP SLIDER (PHIÊN BẢN DELUXE)
   ========================================================================= */

.amp-slider-container {
    margin: 30px 0;
    border-radius: 12px; /* Bo góc mềm mại hơn */
    overflow: hidden;
    position: relative; /* Cần thiết để định vị các thành phần con */
    -webkit-mask-image: -webkit-radial-gradient(white, black); /* Chống lỗi răng cưa trên Safari */

    /* === BẮT ĐẦU CODE MỚI === */
    background-color: #f8f9fa; /* Nền xám cực nhạt (màu này được dùng ở nhiều nơi trong theme) */
    border: 1px solid #e9ecef; /* Bo viền 1px (thay vì 0.5px) cho nhất quán */
    /* === KẾT THÚC CODE MỚI === */
}

/* --- HIỆU ỨNG KEN BURNS (ZOOM NHẸ) CHO ẢNH --- */
.amp-slider-container amp-img {
    transition: transform 8s ease-in-out;
    transform: scale(1.05); /* Zoom nhẹ ảnh lên một chút */
}
/* Khi slide được kích hoạt, thu nhỏ ảnh lại để tạo hiệu ứng chuyển động */
.amp-slider-container [aria-hidden="false"] amp-img {
    transform: scale(1);
}


/* --- NÚT BẤM CHUYỂN SLIDE (PREV/NEXT) --- */
.amp-slider-container .amp-carousel-button {
    background-color: rgba(255, 255, 255, 0.15); /* Nền mờ, hiện đại */
    backdrop-filter: blur(5px); /* Hiệu ứng thủy tinh mờ (Glassmorphism) */
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    width: 44px;
    height: 44px;
    top: calc(50% - 22px);
    transition: background-color 0.2s, transform 0.2s;
    transform: scale(0.9);
    opacity: 0; /* Mặc định ẩn nút đi */
}

/* Hiện nút bấm khi người dùng hover vào slider */
.amp-slider-container:hover .amp-carousel-button {
    transform: scale(1);
    opacity: 1;
}

.amp-slider-container .amp-carousel-button:hover {
    background-color: rgba(255, 255, 255, 0.3);
    transform: scale(1.05);
}

/* Tùy chỉnh icon mũi tên (sử dụng SVG inline để nhẹ hơn) */
.amp-slider-container .amp-carousel-button-prev .amp-carousel-button-img {
     background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>');
}
.amp-slider-container .amp-carousel-button-next .amp-carousel-button-img {
     background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>');
}


/* --- THANH ĐIỀU HƯỚNG (PAGINATION DOTS) --- */
.amp-slider-container .amp-carousel-pagination {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    padding: 6px 10px;
    background-color: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(5px);
    border-radius: 20px;
}

.amp-slider-container .amp-carousel-pagination-button {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.5);
    transition: background-color 0.3s, transform 0.3s;
    padding: 0; /* Reset padding mặc định */
}

/* Style cho dot của slide đang active */
.amp-slider-container .amp-carousel-pagination-button[aria-selected="true"] {
    background-color: #fff;
    transform: scale(1.2);
}
/* =========================================================================
   CSS CHO TÍNH NĂNG BẤT ĐỘNG SẢN (PHIÊN BẢN RESPONSIVE)
   ========================================================================= */

/* --- Bảng thông số chi tiết BĐS --- */
.bds-details-box {
    background-color: #f7f9fb;
    border: 1px solid #e9ecef;
    border-radius: 12px;
    padding: 25px;
    margin: 30px 0;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.bds-details-title {
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 1.4rem;
    color: var(--mau-chu);
    border-bottom: 2px solid var(--mau-chinh);
    padding-bottom: 10px;
    font-family: 'Poppins', sans-serif;
}

/* --- DESKTOP FIRST: Layout mặc định cho màn hình lớn --- */
.bds-details-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 15px;
}

.bds-detail-item {
    display: flex;
    flex-direction: column;
    padding: 15px;
    background-color: #fff;
    border-radius: 8px;
    border: 1px solid #eee;
    transition: transform 0.2s, box-shadow 0.2s;
}

.bds-detail-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.08);
}

.bds-detail-label {
    font-size: 0.85rem;
    color: #6c757d;
    margin-bottom: 5px;
    text-transform: uppercase;
    font-weight: 600;
}

.bds-detail-value {
    font-size: 1.1rem;
    font-weight: 600;
    color: #343a40;
}

.bds-detail-value.price {
    color: #dc3545;
    font-weight: 700;
    font-size: 1.2rem;
}

/* --- Nút CTA Xem Chi Tiết cho Bảng BĐS --- */
.bds-details-cta {
    text-align: center;
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px solid #e9ecef;
}

.bds-details-button {
    display: inline-block;
    background-color: var(--mau-chu);
    color: #fff;
    padding: 12px 30px;
    border-radius: 50px;
    font-weight: 700;
    text-decoration: none;
    font-size: 1rem;
    transition: transform 0.2s, box-shadow 0.2s;
    box-shadow: 0 4px 15px rgba(0, 123, 255, 0.2);
}

.bds-details-button:hover {
    color: #fff;
    text-decoration: none;
    transform: translateY(-3px);
    box-shadow: 0 7px 20px rgba(0, 123, 255, 0.35);
}

/* --- MOBILE (< 768px): Ghi đè để tối ưu --- */
@media (max-width: 767px) {
    .bds-details-box {
        padding: 20px 15px; /* Giảm padding trên mobile */
    }
    .bds-details-grid {
        /* ÉP BUỘC HIỂN THỊ 2 CỘT */
        grid-template-columns: repeat(2, 1fr);
        gap: 10px; /* Giảm khoảng cách giữa các ô */
    }
    .bds-detail-item {
        padding: 12px; /* Giảm padding bên trong mỗi ô */
    }
    .bds-detail-label {
        font-size: 0.75rem; /* Chữ nhỏ hơn một chút */
    }
    .bds-detail-value {
        font-size: 1rem; /* Chữ nhỏ hơn một chút */
    }
    .bds-detail-value.price {
        font-size: 1.1rem; /* Giá vẫn nổi bật nhưng gọn hơn */
    }
}
/* --- CSS CHO CÔNG CỤ TÍNH LÃI SUẤT --- */
.mortgage-calculator {
    background-color: #fff;
    border: 2px dashed var(--mau-chinh);
    border-radius: 12px;
    padding: 25px;
    margin: 40px 0;
}
.calculator-title {
    text-align: center;
    margin-top: 0;
    margin-bottom: 25px;
    color: var(--mau-chu);
    font-family: 'Poppins', sans-serif;
}
.mortgage-calculator .form-row {
    margin-bottom: 15px;
}
.mortgage-calculator label {
    display: block;
    font-weight: 600;
    margin-bottom: 5px;
    font-size: 0.9rem;
    color: #495057;
}
.mortgage-calculator input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ced4da;
    border-radius: 8px;
    font-size: 1rem;
    box-sizing: border-box;
}
.calculator-result {
    text-align: center;
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px solid #eee;
    opacity: 0; /* Mặc định ẩn kết quả */
    transform: translateY(10px);
    transition: opacity 0.4s, transform 0.4s;
}
/* Khi có kết quả, hiện ra với hiệu ứng mờ */
.mortgage-calculator.calculated .calculator-result {
    opacity: 1;
    transform: translateY(0);
}
.calculator-result h4 {
    margin: 0 0 10px 0;
    color: #555;
    font-size: 1rem;
    font-weight: normal;
}
.monthly-payment span {
    font-size: 2.2rem;
    font-weight: 700;
    color: #dc3545; /* Màu đỏ cho số tiền */
    font-family: 'Poppins', sans-serif;
}
/* --- CSS CHO KHU VỰC BĐS NỔI BẬT --- */
.featured-properties-wrapper {
    margin: 40px 0;
    padding: 30px 0;
    border-top: 1px solid #eee;
    border-bottom: 1px solid #eee;
    background-color: #fff;
}
.featured-properties-title {
    text-align: center;
    font-size: 1.8rem;
    color: var(--mau-chu);
    margin-top: 0;
    margin-bottom: 30px;
    font-family: 'Poppins', sans-serif;
}
/* Tái sử dụng grid layout đã có */
.featured-properties-wrapper .posts-grid-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 15px;
}
/* --- CSS CHO KHU VỰC BẢN ĐỒ & TIỆN ÍCH --- */
.utilities-map-section {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 40px 0;
}

.map-container,
.utilities-accordion-container {
    flex: 1;
    min-width: 300px; /* Đảm bảo không bị co quá nhỏ */
}

.map-container {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    border: 1px solid #eee;
}

/* Tùy chỉnh Accordion cho tiện ích */
.utilities-accordion-container amp-accordion section {
    border: 1px solid #e9ecef;
    border-radius: 8px;
    margin-bottom: 10px;
    background-color: #fff;
}
.utility-question {
    font-size: 1.1rem;
    font-weight: 600;
    padding: 15px;
    margin: 0;
    cursor: pointer;
    background-color: #f8f9fa;
    display: flex;
    align-items: center;
    gap: 10px;
}
.utility-answer {
    padding: 15px;
    font-size: 0.95rem;
}
.utility-answer ul {
    margin: 0;
    padding-left: 20px;
}
.utility-answer li {
    margin-bottom: 8px;
}

/* Icons cho tiện ích (SVG inline) */
.utility-icon {
    display: inline-block;
    width: 24px;
    height: 24px;
    background-color: var(--mau-chinh);
    -webkit-mask-size: contain;
    mask-size: contain;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: center;
    mask-position: center;
}
.icon-school { -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M12 3L1 9l11 6 9-4.5V12h2V9l-11-6zM5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82z"/></svg>'); mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M12 3L1 9l11 6 9-4.5V12h2V9l-11-6zM5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82z"/></svg>');}
.icon-hospital { -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"/></svg>'); mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"/></svg>');}
.icon-market { -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.24 17 6.5 17H20v-2H6.5c-.3 0-.5-.1-.6-.2l1.1-2h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A.996.996 0 0020 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>'); mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.24 17 6.5 17H20v-2H6.5c-.3 0-.5-.1-.6-.2l1.1-2h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A.996.996 0 0020 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>');}
.icon-park { -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M17.5 11.23c0 2.2-2.1 4.9-5.5 8.27-3.4-3.37-5.5-6.07-5.5-8.27 0-3.1 2.46-5.5 5.5-5.5s5.5 2.4 5.5 5.5zM12 8.75c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5z"/></svg>'); mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M17.5 11.23c0 2.2-2.1 4.9-5.5 8.27-3.4-3.37-5.5-6.07-5.5-8.27 0-3.1 2.46-5.5 5.5-5.5s5.5 2.4 5.5 5.5zM12 8.75c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5z"/></svg>');}
.icon-default { -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>'); mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>');}
/* /css/amp-custom.css */

/* /css/amp-custom.css */

/* === BẮT ĐẦU: CSS CHO QUẢNG CÁO NỘI BỘ V2 (NÂNG CẤP 2025) === */
.internal-ad-v2-container {
    position: relative;
    display: block;
    background-color: #fff;
    border-radius: 12px;
    margin: 30px auto;
    text-decoration: none;
    box-shadow: 0 4px 16px rgba(46, 61, 73, 0.08);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border: 1px solid transparent; /* Thêm border ẩn để hover mượt hơn */
}

.internal-ad-v2-container:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(46, 61, 73, 0.12);
    border-color: var(--mau-chinh);
}

.internal-ad-v2-label {
    position: absolute;
    top: 12px;
    left: 12px;
    background-color: rgba(0, 123, 255, 0.1);
    color: var(--mau-chu);
    padding: 3px 8px;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.internal-ad-v2-body {
    display: grid;
    grid-template-columns: 100px 1fr; 
    gap: 15px;
    align-items: start; /* <--- Sửa thành "start" */
    padding: 15px;
}

.internal-ad-v2-image amp-img {
    border-radius: 8px;
    object-fit: cover;
    width: 100%;
    height: 100%;
}

/* === [SỬA LỖI] CSS CHO QUẢNG CÁO NỘI BỘ === */

.internal-ad-v2-content .ad-title {
    font-size: 1.15rem;
    font-weight: 700;
    line-height: 1.4;
    color: #20202a;
    margin: 0 0 8px 0;
    /* Giới hạn tiêu đề 2 dòng */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    overflow: hidden;
    /* [FIX] Thêm max-height để buộc trình duyệt tính toán chiều cao */
    /* (1.15rem * 1.4 line-height * 2 lines) */
    max-height: 3.22rem; 
}

.internal-ad-v2-content .ad-excerpt {
    font-size: 0.9rem;
    color: #555;
    margin: 0 0 12px 0;
    line-height: 1.6;
    /* Giới hạn excerpt 2 dòng */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    overflow: hidden;
    /* [FIX] Thêm max-height để buộc trình duyệt tính toán chiều cao */
    /* (0.9rem * 1.6 line-height * 2 lines) */
    max-height: 2.88rem;
}

/* === KẾT THÚC SỬA LỖI === */

.internal-ad-v2-content .ad-cta {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--mau-chu);
    display: inline-flex;
    align-items: center;
    gap: 5px;
}
/* CSS cho group shortcode nhiều ID */
.internal-ad-group {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Khoảng cách giữa các ad item */
    margin: 30px auto;
}
.internal-ad-group .internal-ad-v2-container {
    margin: 0; /* Reset margin của item con */
}
/* =========================================================================
   [THAY THẾ V12] CSS CHO THANH TIẾN TRÌNH ĐỘNG (DYNAMIC TOC)
   ========================================================================= */

/* 1. Container chính (Thanh bar cố định) */
.dynamic-toc-bar {
    position: sticky;
    top: 5px;
    z-index: 999;
    height: 40px;
    width: 100%;
    background-color: #f0f8ff;
    border: 1px solid #c9dfff;
    border-radius: 8px;
    box-shadow: 0 6px 15px rgba(0, 115, 230, 0.1);
    overflow: hidden;
    margin-bottom: 20px;
    will-change: transform;
    /* [SỬA LỖI] Xóa 'display: flex' và 'padding' khỏi container */
}

/* 2. Thanh tiến trình (màu xanh) */
.dynamic-toc-progress {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    background-color: #d6eaff;
    z-index: 1;
    transform-origin: 0 50%;
    transform: scaleX(0);
}

/* 3. Wrapper MỚI cho Tiêu đề động (văn bản) */
.dynamic-toc-title-wrapper {
    position: relative;
    z-index: 2;
    display: flex;
    align-items: center;
    width: 100%;
    height: 100%;
    padding: 0 15px; /* Đặt padding ở đây */
    min-width: 0; 
}

/* 4. TẤT CẢ các <span> tiêu đề (dùng chung style) */
.dynamic-toc-title {
    /* [SỬA LỖI V12] Bỏ 'position: absolute'. Dùng 'display: none'. */
    display: none; 
    align-items: center;
    width: 100%; /* Chiếm toàn bộ không gian wrapper */
    height: 100%;
    
    /* Style văn bản */
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--mau-chu);
    
    /* Xử lý nếu tiêu đề quá dài */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    
    /* Thời gian mờ ảo (fade) */
    transition: opacity 0.2s ease-in-out;
    opacity: 0; /* Mặc định mờ */
}

/* 5. Tiêu đề MẶC ĐỊNH (is-visible) */
.dynamic-toc-title.is-visible {
    display: flex; /* Hiển thị mặc định */
    opacity: 1;
    visibility: visible;
}

/* LƯU Ý: Animation (V11) sẽ ghi đè 'opacity' và 'visibility'.
   CSS 'is-visible' chỉ để hiển thị tiêu đề mặc định ban đầu.
*/
/* === KẾT THÚC CSS DYNAMIC TOC V12 === */
/* === CSS CHO BÀI VIẾT LIÊN QUAN === */
.related-posts-section {
    margin: 40px 0;
    padding: 30px 0;
    border-top: 1px solid #eee;
    background-color: #fff;
}
.related-posts-title {
    text-align: center;
    font-size: 1.8rem;
    color: var(--mau-chu);
    margin-top: 0;
    margin-bottom: 30px;
    font-family: 'Poppins', sans-serif;
}
/* === CSS HOÀN CHỈNH CHO AMP-GEO (TĂNG ĐỘ ƯU TIÊN & SỬA LỖI HIỂN THỊ) === */

/* 1. Mặc định: ẨN TẤT CẢ các span con, SAU ĐÓ hiện lại chỉ span "default" */
.geo-text-wrapper > span {
    display: none;
}
.geo-text-wrapper > .geo-text-for-default {
    display: inline;
}

/* 2. Khi ở VN: Dùng selector có độ ưu tiên cao hơn để ẩn "default" và hiện "vn" */
body.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-default {
    display: none;
}
body.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-vn {
    display: inline;
}

/* 3. Khi ở tỉnh thành cụ thể: Dùng selector có độ ưu tiên cao nhất để ghi đè */
/* Quy tắc ẩn "vn" khi phát hiện tỉnh/thành phố */
body.amp-geo-group-hanoi.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-vn,
body.amp-geo-group-hcm.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-vn,
body.amp-geo-group-danang.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-vn,
body.amp-geo-group-haiphong.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-vn,
/* ... (gộp tất cả 63 tỉnh) ... */
body.amp-geo-group-yenbai.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-vn {
    display: none;
}

/* Quy tắc hiện text của tỉnh/thành phố cụ thể */
body.amp-geo-group-hanoi.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-hanoi,
body.amp-geo-group-hcm.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-hcm,
body.amp-geo-group-danang.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-danang,
body.amp-geo-group-haiphong.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-haiphong,
/* ... (gộp tất cả 63 tỉnh) ... */
body.amp-geo-group-yenbai.amp-geo-group-vn .geo-text-wrapper > .geo-text-for-yenbai {
    display: inline;
}

/* LƯU Ý: Bạn cần dán lại đầy đủ 2 khối CSS gộp cho 63 tỉnh thành
   mà tôi đã cung cấp trước đó vào vị trí "... (gộp tất cả 63 tỉnh) ...".
*/
/* === CSS CHO SHORTCODE SẢN PHẨM (AMP PRODUCT) === */
.amp-product-box {
    display: block; /* Đảm bảo thẻ <a> hoạt động như một khối */
    text-decoration: none; /* Xóa gạch chân link */
    background-color: #fff;
    border: 1px solid #e9ecef;
    border-radius: 12px;
    margin: 30px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.07);
    overflow: hidden;
}

.amp-product-content {
    padding: 20px;
}

.amp-product-title {
    margin: 0 0 10px 0;
    font-size: 1.6rem;
    font-family: 'Poppins', sans-serif;
    color: var(--mau-chu);
}

.amp-product-brand {
    font-size: 0.9rem;
    color: #6c757d;
    margin-bottom: 15px;
}

.amp-product-price {
    font-size: 2rem;
    font-weight: 700;
    color: #dc3545;
    margin-bottom: 15px;
}

.amp-product-description {
    font-size: 0.95rem;
    line-height: 1.7;
    color: #495057;
    margin-bottom: 20px;
}

/* Tái sử dụng style cho rating box */
.amp-product-box .rating-box {
    margin: 0; /* Reset margin */
    padding: 0;
    border: none;
    background: none;
}

/* Bố cục responsive */
@media (min-width: 768px) {
    .amp-product-box {
        display: grid;
        grid-template-columns: 1fr 1.2fr; /* 2 cột */
        gap: 25px;
        align-items: start;
    }
    .amp-product-image-wrapper {
        padding: 15px;
    }
    .amp-product-content {
        padding: 20px 20px 20px 0;
    }
}
/* =========================================================================
   CSS CHO NÚT GỌI NHANH (FLOATING CALL BUTTON)
   ========================================================================= */

@keyframes pulse-animation {
  0% {
    transform: scale(0.95);
    box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.7);
  }
  70% {
    transform: scale(1);
    box-shadow: 0 0 0 15px rgba(0, 123, 255, 0);
  }
  100% {
    transform: scale(0.95);
    box-shadow: 0 0 0 0 rgba(0, 123, 255, 0);
  }
}

.floating-call-button {
  position: fixed;
  width: 40px;
  height: 40px;
  bottom: 25px;
  right: 25px;
  background-color: var(--mau-chu);
  color: #FFF;
  border-radius: 50%;
  text-align: center;
  font-size: 30px;
  box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
  z-index: 1001;
  display: flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  border: none;
  animation: pulse-animation 2s infinite;
  transition: background-color 0.3s;
}

.floating-call-button:hover {
  background-color: var(--mau-chu);
  animation-play-state: paused; /* Tạm dừng animation khi hover */
}

.floating-call-button svg {
  fill: white;
}
/* =========================================================================
   CSS CHO FORM ĐĂNG KÝ SĐT [dang_ky_sdt] - HIỆU ỨNG ĐỘNG
   ========================================================================= */

/* --- Container chính của Form --- */
.amp-form-phone-only {
    background: linear-gradient(135deg, #f8f9fa, #e9ecef); /* Nền gradient nhẹ */
    border: 1px solid #dee2e6;
    border-radius: 12px;
    padding: 25px;
    margin: 30px 0;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* Hiệu ứng nhẹ khi người dùng di chuột qua toàn bộ form */
.amp-form-phone-only:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

/* --- Tiêu đề Form --- */
.amp-form-phone-only .form-title {
    font-size: 1.3rem;
    font-weight: 700;
    text-align: center;
    color: #343a40;
    margin-bottom: 20px;
}

/* --- Trường nhập liệu --- */
.amp-form-phone-only .form-row {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Khoảng cách giữa input và nút */
}

.amp-form-phone-only input[type="tel"] {
    width: 100%;
    padding: 14px 20px;
    border: 2px solid #ced4da;
    border-radius: 8px;
    font-size: 1.1rem;
    font-weight: bold;
    text-align: center;
    box-sizing: border-box;
    background-color: #fff;
    transition: border-color 0.3s ease, box-shadow 0.3s ease; /* Hiệu ứng chuyển đổi mượt */
}

/* Hiệu ứng "glow" khi người dùng nhấp vào trường nhập liệu */
.amp-form-phone-only input[type="tel"]:focus {
    border-color: var(--mau-chu);
    box-shadow: 0 0 0 4px rgba(0, 123, 255, 0.2); /* Vầng sáng xanh */
    outline: none;
}

/* --- Nút Gửi --- */
.amp-form-phone-only .submit-button {
    width: 100%;
    padding: 15px;
    background-color: var(--mau-chu);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0, 86, 179, 0.2);
    transform: translateY(0);
    transition: transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1), 
                box-shadow 0.2s cubic-bezier(0.25, 0.8, 0.25, 1),
                background-color 0.2s ease;
}

/* Hiệu ứng 3D khi di chuột qua nút */
.amp-form-phone-only .submit-button:hover {
    background-color: var(--mau-chu);
    transform: translateY(-3px); /* Nâng nút lên */
    box-shadow: 0 7px 20px rgba(0, 115, 230, 0.35); /* Đổ bóng đậm hơn */
}
/* =========================================================================
   CSS CHO CÁC NÚT NỔI (FLOATING BUTTONS) - VỊ TRÍ MỚI
   ========================================================================= */

/* --- Animation cho Nút Gọi --- */
@keyframes pulse-animation {
  0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.7); }
  70% { transform: scale(1); box-shadow: 0 0 0 15px rgba(0, 123, 255, 0); }
  100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(0, 123, 255, 0); }
}

/* --- Animation cho Nút Form --- */
@keyframes shake-animation {
  0%, 100% { transform: rotate(0deg); }
  10%, 30%, 50%, 70%, 90% { transform: rotate(-8deg); }
  20%, 40%, 60%, 80% { transform: rotate(8deg); }
}

/* --- Style chung cho cả hai nút --- */
.floating-call-button,
.floating-form-button {
  position: fixed;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
  z-index: 1001;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;
  transition: transform 0.3s, background-color 0.3s;
}

.floating-call-button:hover,
.floating-form-button:hover {
  transform: scale(1.1);
  animation-play-state: paused;
}

.floating-call-button svg,
.floating-form-button svg {
  fill: white;
  width: 28px;
  height: 28px;
}

/* --- Style riêng cho Nút Gọi (Ở dưới) --- */
.floating-call-button {
  right: 25px;
  bottom: 25px;
  background-color: var(--mau-chinh);
  animation: pulse-animation 2s infinite;
}
.floating-call-button:hover {
  background-color: var(--mau-chu);
}

/* --- Style riêng cho Nút Form (Ở trên) --- */
.floating-form-button {
  right: 25px;
  bottom: 100px; /* = 25px (vị trí nút gọi) + 60px (chiều cao nút gọi) + 15px (khoảng cách) */
  background-color: #28a745; /* Màu xanh lá */
  animation: shake-animation 5s infinite ease-in-out;
  animation-delay: 1s;
}
.floating-form-button:hover {
  background-color: #218838;
}
/* =========================================================================
   CSS RIÊNG CHO FORM POPUP (AMP-LIGHTBOX)
   ========================================================================= */

/* --- 1. Style cho Lightbox Container --- */
/* Đây là lớp div bao bọc toàn bộ form và nút đóng */
.lightbox-container {
    background-color: #ffffff;
    padding: 35px 30px;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    max-width: 500px;
    margin: 50px auto; /* Tự động căn giữa */
    position: relative; /* Cần thiết để định vị nút đóng */
}

/* --- 2. Style cho Nút Đóng '×' --- */
.lightbox-container .close-button {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 32px;
    height: 32px;
    background-color: #f1f1f1;
    color: #555;
    border: none;
    border-radius: 50%;
    font-size: 24px;
    font-weight: bold;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 10;
    transition: transform 0.2s, background-color 0.2s;
}

.lightbox-container .close-button:hover {
    background-color: #e0e0e0;
    transform: rotate(90deg); /* Hiệu ứng xoay khi hover */
}

/* --- 3. Ghi đè Style cho Form bên trong Lightbox --- */
/* Các quy tắc này chỉ áp dụng cho .amp-form-container nào nằm bên trong .lightbox-container */
.lightbox-container .amp-form-container {
    background: none; /* Bỏ nền cũ của form */
    border: none; /* Bỏ viền cũ của form */
    padding: 0; /* Bỏ padding cũ của form */
    margin: 0; /* Bỏ margin cũ của form */
    box-shadow: none; /* Bỏ bóng đổ cũ của form */
}

/* Tùy chỉnh lại tiêu đề của form trong popup */
.lightbox-container .form-title {
    font-size: 1.6rem; /* Làm tiêu đề to và rõ hơn */
    color: var(--mau-chu);
    margin-bottom: 25px;
    text-align: center;
}

/* Tùy chỉnh lại các trường input trong popup */
.lightbox-container .amp-form-container input[type="text"],
.lightbox-container .amp-form-container input[type="tel"],
.lightbox-container .amp-form-container input[type="email"] {
    background-color: #f8f9fa; /* Thêm nền xám nhẹ cho dễ nhìn */
    border: 1px solid #dee2e6;
}

/* --- 4. Responsive cho màn hình di động --- */
@media (max-width: 600px) {
    .lightbox-container {
        /* Trên di động, lightbox chiếm gần hết màn hình */
        margin: 15px;
        padding: 30px 20px;
    }

    .lightbox-container .form-title {
        font-size: 1.4rem;
    }
}
/* =========================================================================
   [TỐI ƯU UX] CSS CHO CÁC TÍNH NĂNG MỚI
   ========================================================================= */

/* =========================================================================
   [KHÔI PHỤC V11 GỐC] CSS CHO MỤC LỤC TÍCH HỢP THANH TIẾN TRÌNH ĐỌC
   ========================================================================= */

/* Container chính của TOC */
.smart-toc-container.with-progress-bar {
    position: sticky; /* Giữ nguyên sticky */
    top: 5px;
    z-index: 999;
    border-radius: 12px;
    box-shadow: 0 6px 15px rgba(0, 115, 230, 0.1);
    overflow: hidden; /* Quan trọng: để chứa thanh progress bar */
    border: 1px solid #c9dfff;
    background-color: #f0f8ff; /* Màu nền dự phòng */
}

/* Thanh progress bar (lớp nền) */
.toc-progress-bar-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #b5d9ff; /* Màu nền của thanh khi chạy */
    z-index: 1;
    
    /* Cài đặt cho animation */
    transform-origin: 0 50%;
    transform: scaleX(0);
}

/* Đảm bảo nội dung của accordion (header, list) nằm trên thanh progress */
.smart-toc-container .toc-full-list,
.smart-toc-container .toc-header {
    position: relative;
    z-index: 2;
    background-color: transparent; /* Quan trọng: để nền trong suốt */
}

/* Tiêu đề (Header) của Accordion */
.smart-toc-container amp-accordion{
    padding: 0;
}
.smart-toc-container .toc-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 15px; 
    cursor: pointer;
    border-bottom: 1px solid #c9dfff;
    transition: background-color 0.2s ease;
}
.smart-toc-container .toc-header:hover {
    background-color: rgba(0, 123, 255, 0.05);
}
.toc-header-title,
.toc-header-arrow {
    margin: 0;
    padding: 0;
    line-height: 1; 
    display: flex;
    align-items: center;
}
.toc-header-title strong {
    font-size: 1rem;
    color: var(--mau-chu);
    font-weight: 700;
}

/* Mũi tên (Xóa khỏi V11 gốc vì không có nút ghim) */
.toc-header-arrow svg {
    display: block;
    transition: transform 0.3s ease;
}
.smart-toc-container amp-accordion section[expanded] > .toc-header .toc-header-arrow svg {
    transform: rotate(180deg);
}

/* Danh sách Nội dung (Phần Mở rộng) */
.toc-full-list {
    padding: 5px 15px 15px 15px;
    max-height: 40vh; /* [FIX V11] Giới hạn chiều cao và cho phép cuộn */
    overflow-y: auto; 
    -webkit-overflow-scrolling: touch; 
}
.toc-full-list ul { 
    list-style: none; 
    padding: 0; 
    margin: 0; 
}
.toc-full-list li a {
    display: block;
    padding: 8px 12px;
    text-decoration: none;
    color: #495057;
    border-radius: 6px; 
    font-size: 0.9rem;
    transition: transform 0.2s ease, background-color 0.2s;
    transform: translateX(0);
}
.toc-full-list li a:hover {
    background-color: rgba(255, 255, 255, 0.5); /* Nền hover mờ */
    color: #004a8f;
    transform: translateX(3px); 
}
.toc-full-list ul ul { 
    padding-left: 15px; 
    margin-top: 5px; 
    border-left: 2px solid #b3d9ff; 
}

/* Lớp phủ (Để đóng TOC khi bấm ra ngoài) */
#toc-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(2px);
    transition: opacity 0.2s ease-in-out;
    z-index: 998;
}
/* === KẾT THÚC CSS KHÔI PHỤC V11 GỐC === */

/* --- 2. CSS CHO NÚT VỀ ĐẦU TRANG (BACK TO TOP) --- */
.back-to-top-button {
    position: fixed;
    bottom: 25px; /* Vị trí thấp nhất */
    right: 25px;
    width: 44px;
    height: 44px;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(5px); /* Hiệu ứng kính mờ */
    color: #fff;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.2);
    z-index: 1000; /* Nằm dưới các nút gọi/form */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* Trạng thái ban đầu: Ẩn */
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
    transition: opacity 0.3s, visibility 0.3s, transform 0.3s ease-in-out;
}
.back-to-top-button:hover {
    background-color: rgba(0, 0, 0, 0.7);
}


/* --- 3. CẬP NHẬT VỊ TRÍ CHO CÁC NÚT NỔI HIỆN TẠI --- */
/* Ghi đè lại vị trí của nút gọi và nút form để chúng không bị đè lên nút "Về đầu trang" */

/* Nút Gọi (nằm trên nút Về đầu trang) */
.floating-call-button {
    bottom: 84px; /* 25px (vị trí nút top) + 44px (chiều cao nút top) + 15px (khoảng cách) */
}

/* Nút Form (nằm trên nút Gọi) */
.floating-form-button {
    bottom: 159px; /* 84px (vị trí nút gọi) + 60px (chiều cao nút gọi) + 15px (khoảng cách) */
}

/* ======================================= */
/* TỐI ƯU PWA INSTALL FLOATING BAR */
/* ======================================= */

.pwa-install-banner-wrapper {
    /* Thiết lập Floating Bar ở cuối màn hình */
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    z-index: 9999; /* Đảm bảo nó nổi trên mọi thứ */
    
    background-color: #2c3e50; /* Màu nền tối */
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.15); /* Thêm bóng đổ nhẹ */
    color: #ffffff;
    padding: 8px 0; /* Giảm padding */
    font-size: 13px; /* Giảm cỡ chữ */
}

.pwa-banner-content {
    /* Sử dụng Flexbox để căn chỉnh */
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px; /* Giảm khoảng cách */
    
    /* Căn chỉnh nội dung vào giữa màn hình */
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 15px;
}

.pwa-banner-content p {
    /* Tiêu đề PWA: Tối ưu không gian */
    margin: 0;
    flex-grow: 1; /* Cho phép chiếm hết không gian còn lại */
    /* Hiển thị một cách compact */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; 
}

/* Nút Cài đặt */
.pwa-banner-button {
    background-color: #17a2b8; /* Màu xanh nổi bật */
    color: #ffffff;
    border: none; /* Bỏ border để gọn hơn */
    padding: 6px 10px; /* Giảm padding nút */
    cursor: pointer;
    line-height: 1.2;
    text-decoration: none;
    font-size: 13px; /* Đảm bảo nút không quá to */
    font-weight: 600;
    flex-shrink: 0; /* Không co lại khi không gian hẹp */
    border-radius: 4px;
    text-transform: uppercase;
}

/* Nút Tắt (X) */
.pwa-dismiss-button {
    background: none;
    border: none;
    color: #ffffff;
    font-size: 18px;
    padding: 0 5px;
    cursor: pointer;
    opacity: 0.8;
    transition: opacity 0.2s;
    line-height: 1; 
    flex-shrink: 0; /* Không co lại */
}

.pwa-dismiss-button:hover {
    opacity: 1;
}
/* Đoạn mã SỬA LẠI ĐÚNG */
/* File: /css/amp-custom.css */

.hotspot-on-image.active-hover {
    transform: translate(-50%, -50%) scale(1.4); /* Đã xóa !important */
    z-index: 5;                                  /* Đã xóa !important */
    background-color: #ffc107;                   /* Đã xóa !important */
}
/* =========================================================================
   CSS CHO THANH THÔNG BÁO SỰ KIỆN [amp_event_bar] (Final Fix)
   ========================================================================= */

/* --- 1. KHUNG CHUNG VÀ MÀU SẮC --- */
#amp-event-bar {
    margin: 0;
    width: 100%;
    max-width: none;
    background-color: #121212; 
    height: 40px;
    overflow: hidden;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    border-radius: 0;
    position: relative;
}

#amp-event-bar .amp-carousel-slide {
    background-color: #121212;
}

#amp-event-bar .event-slide {
    display: flex;
    align-items: center;
    height: 100%;
    box-sizing: border-box;
}

#amp-event-bar .event-notification-link {
    display: flex;
    align-items: center;
    text-decoration: none;
    padding: 0 10px;
    height: 100%;
    width: 100%;
    transition: background-color 0.2s;
}

#amp-event-bar .event-notification-link:hover {
    background-color: #282828; 
}

/* (FIX) Gán màu trực tiếp cho các thành phần văn bản */
#amp-event-bar .event-description-text,
#amp-event-bar a,
#amp-event-bar p {
    color: #ffffff; /* Đảm bảo mọi văn bản bên trong đều là màu trắng */
}

#amp-event-bar .event-description-text {
    margin: 0;
    flex-grow: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 13px;
}

#amp-event-bar .event-description-text strong {
    color: #00e676; 
    font-weight: 700;
}

/* --- 2. ICON SONAR --- */
#amp-event-bar .sonar-icon-wrap {
    position: relative;
    width: 20px;
    height: 20px;
    margin-right: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-shrink: 0;
}

#amp-event-bar .event-status-icon {
    font-size: 14px;
    z-index: 10;
    line-height: 1;
}

#amp-event-bar .sonar-pulse {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 8px;
    height: 8px;
    background: #ff5252;
    border-radius: 50%;
    opacity: 0.9;
    animation: sonar-animation 1.8s infinite cubic-bezier(0.2, 0, 0.4, 1); 
    z-index: 1;
}

@keyframes sonar-animation {
    0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.7; }
    100% { transform: translate(-50%, -50%) scale(2.8); opacity: 0; }
}

/* =========================================================================
   CSS CHO TEMPLATE TRANG CHỦ BĐS (template-homepage-bds.php)
   Tối ưu Mobile-First chi tiết
   ========================================================================= */

/* --- 1. Layout Chung Của Trang --- */
.homepage-bds-container .homepage-section {
    margin-top: 25px;
    margin-bottom: 25px;
    padding-bottom: 25px;
    border-bottom: 1px solid #e9ecef; /* Ngăn cách rõ ràng các khu vực */
}
.homepage-bds-container .homepage-section:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

/* --- 2. Tiêu đề Section (Mobile-First) --- */
.homepage-section-header {
    margin-bottom: 25px;
    /* Trên Mobile (mặc định):
       - Tiêu đề (h2) sẽ ở trên.
       - Nút "Xem tất cả" (a) sẽ ở dưới.
       Điều này giúp người dùng dễ đọc và dễ bấm hơn.
    */
}

.homepage-section-title {
    font-size: 1.8rem; /* 28.8px - Tăng kích thước cho nổi bật */
    font-family: 'Poppins', sans-serif;
    font-weight: 700;
    color: var(--mau-chu);
    margin: 0 0 15px 0;
    text-align: center; /* Căn giữa trên mobile */
    line-height: 1.3;
}

.homepage-view-all-btn {
    display: block; /* Để căn giữa bằng margin: auto */
    width: -moz-fit-content;
    width: fit-content;
    margin: 0 auto; /* Căn giữa nút "Xem tất cả" trên mobile */
    padding: 8px 20px;
    background-color: #f0f4f8;
    border: 1px solid #dee2e6;
    color: var(--mau-chu);
    border-radius: 50px; /* Bo tròn dạng viên thuốc */
    font-weight: 600;
    font-size: 0.9rem;
    transition: all 0.2s ease;
}
.homepage-view-all-btn:hover {
    background-color: #e9ecef;
    border-color: #ced4da;
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}
.homepage-view-all-btn span {
    transition: transform 0.2s ease;
    display: inline-block; /* Cho phép transform */
}
.homepage-view-all-btn:hover span {
    transform: translateX(4px);
}

/* --- 3. Khu vực Bài viết chính (Main Post) --- */
.main-post-wrapper .post-card {
    /* Trên Mobile: Thẻ card sẽ tự động chiếm 100% chiều rộng.
       Chúng ta thêm bóng đổ lớn hơn để làm nó nổi bật nhất.
    */
    box-shadow: 0 8px 25px rgba(0, 86, 179, 0.1);
}

/* --- 4. Banner Quảng cáo --- */
.homepage-banner-ad {
    display: block;
    margin-top: 15px;
    border-radius: 12px;
    overflow: hidden; /* Bắt buộc để bo góc amp-img */
    box-shadow: 0 8px 25px rgba(0,0,0,0.12);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.homepage-banner-ad:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 30px rgba(0,0,0,0.15);
}

/* --- 5. Tối ưu cho Tablet & Desktop (Quan trọng) --- */
    
/* Áp dụng cho màn hình từ 600px trở lên */
@media (min-width: 600px) {
    .homepage-bds-container .homepage-section {
        margin-top: 40px;
        margin-bottom: 40px;
        padding-bottom: 40px;
    }

    /* Chuyển layout tiêu đề sang ngang */
    .homepage-section-header {
        display: flex;
        justify-content: space-between; /* Đẩy 2 item ra 2 bên */
        align-items: baseline; /* Căn chỉnh theo dòng chữ */
        margin-bottom: 30px;
    }
    
    .homepage-section-title {
        text-align: left; /* Căn trái trên desktop */
        margin-bottom: 0;
    }

    .homepage-view-all-btn {
        /* Biến lại thành link đơn giản, không còn là nút */
        background: none;
        border: none;
        padding: 0;
        margin: 0;
        font-size: 1rem;
        color: var(--mau-chinh);
    }
    .homepage-view-all-btn:hover {
         background: none;
         border: none;
         transform: none;
         box-shadow: none;
         text-decoration: underline;
    }

    /* Lưới bài viết "Dự án" (6 bài) và "Tin tức" (3 bài) 
       sẽ tự động áp dụng CSS grid 2 cột (theo file amp-custom.css cũ)
    */
}

/* Áp dụng cho Tablet (từ 768px) - Layout ngang cho Bài viết chính */
@media (min-width: 768px) {
    .main-post-wrapper .post-card a {
        flex-direction: row; /* Chuyển sang layout ngang */
        align-items: stretch; /* Kéo dãn các item */
    }
    .main-post-wrapper .post-card-image-wrapper {
        flex: 1 0 45%; /* Ảnh chiếm 45% */
        min-height: 280px; /* Đảm bảo ảnh có chiều cao */
    }
    .main-post-wrapper .post-card-content {
        flex: 1 0 55%; /* Nội dung chiếm 55% */
        padding: 25px 30px; /* Tăng padding */
        justify-content: center; /* Căn giữa nội dung theo chiều dọc */
    }
    .main-post-wrapper .post-card-title {
        font-size: 1.5rem; /* 24px - Tiêu đề to, rõ ràng */
        -webkit-line-clamp: 4; /* Hiển thị tối đa 4 dòng */
    }
}

/* Áp dụng cho Desktop (từ 900px) */
@media (min-width: 900px) {
    /* Lưới bài viết "Dự án" và "Tin tức"
       sẽ tự động áp dụng CSS grid 3 cột (theo file amp-custom.css cũ)
    */
    .main-post-wrapper .post-card-image-wrapper {
        flex: 1 0 50%; /* Ảnh 50% */
    }
    .main-post-wrapper .post-card-content {
        flex: 1 0 50%; /* Nội dung 50% */
    }
}
/* =========================================================================
   CSS CHO BANNER QUẢNG CÁO (FIX LỖI CHẶN & GHI ĐÈ)
   ========================================================================= */

/* Đảm bảo khối container lớn có kích thước và padding an toàn */
#silo-banner-wrapper {
    display: block; 
    width: 100%;
    
    /* Sử dụng padding của container chính (15px hai bên) */
    padding-left: 15px; 
    padding-right: 15px;
    
    margin-top: 25px;
    margin-bottom: 25px;
}

/* Áp dụng display: block cho wrapper của ảnh */
#silo-banner-wrapper .custom-banner-container,
#silo-banner-wrapper a.custom-banner-link {
    display: block; 
    width: 100%; /* Đảm bảo chiếm toàn bộ chiều rộng */
    
    /* Style thẩm mỹ */
    border-radius: 12px;
    overflow: hidden; 
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

#silo-banner-wrapper a.custom-banner-link:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
}

/* [MỚI V10] Tiêu đề luôn hiển thị (Style theo yêu cầu) */
.hotspot-title-display {
    display: none; /* [FIX V10] Ẩn hoàn toàn trên mobile để không làm lệch */
    margin-top: 8px; 
    padding: 4px 10px;
    background-color: #ffffff; 
    color: #222; 
    font-size: 8px;
    font-weight: 700; 
    border-radius: 15px; 
    white-space: nowrap;
    box-shadow: 0 3px 6px rgba(0,0,0,0.25);
    border: 1px solid #ddd;
    
    /* [FIX V9] Mặc định ẩn trên Mobile */
    opacity: 0;
    transform: translateY(-5px); 
    transition: opacity 0.2s ease, transform 0.2s ease;
    pointer-events: none; 
}

/* * Khi hover vào wrapper (trên Desktop),
 * làm tiêu đề hiện ra rõ hơn (nếu nó đang hiển thị).
*/
.css-hotspot-wrapper:hover .hotspot-title-display {
     opacity: 1;
     transform: translateY(0);
}

/* * [FIX V10] Media Query cho Desktop (từ 600px trở lên)
 * BẮT BUỘC hiển thị tiêu đề hotspot.
*/
@media (min-width: 600px) {
    .hotspot-title-display {
        display: block; /* [FIX V10] Hiển thị lại trên desktop */
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto; /* Cho phép tương tác lại */
    }
}

/* Đoạn code cũ (V8) để fix lỗi sonar (VẪN GIỮ NGUYÊN) */
@keyframes sonar-wave {
    0% { transform: scale(0.7); opacity: 0.8; }
    100% { transform: scale(3); opacity: 0; }
}
.amp-css-imagemap-wrapper {
    position: relative;
    border: 1px solid #e9ecef;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 6px 12px rgba(0,0,0,0.06);
}
.css-hotspot-wrapper {
    position: absolute; 
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    z-index: 2;
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.css-hotspot-wrapper:hover {
    transform: translate(-50%, -50%) scale(1.1);
    z-index: 3;
}
.hotspot-on-image {
    position: relative; /* Fix lỗi Sonar (V8) */
    display: flex;
    align-items: center;
    justify-content: center;
    color: #ffffff;
    font-size: 14px;
    font-weight: 700;
    text-decoration: none;
    z-index: 2; 
    background-color: var(--mau-chinh);
    cursor: pointer;
    border: none;
    border-radius: 50%;
    box-sizing: border-box;
    box-shadow: 0 3px 8px rgba(0,0,0,0.3);
}
.hotspot-on-image::before,
.hotspot-on-image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: var(--mau-chinh);
    z-index: -1;
    animation: sonar-wave 2.2s infinite ease-out;
}
.hotspot-on-image::after {
    animation-delay: -1.1s;
}

/* --- CSS Cũ của List & Lightbox (Giữ nguyên) --- */
.amp-css-hotspot-list-wrapper { margin-top: 25px; padding-top: 20px; border-top: 1px solid #eee; }
.amp-css-hotspot-list-wrapper .hotspot-list-title { margin-top: 0; margin-bottom: 15px; font-size: 1.2rem; font-weight: 700; color: var(--mau-chu); text-align: center; }
.hotspot-list-ui { list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; }
.hotspot-list-button { display: block; width: 100%; padding: 8px 18px; background-color: #f8f9fa; color: var(--mau-chu); border: 1px solid #dee2e6; border-radius: 50px; text-decoration: none; font-weight: 600; cursor: pointer; font-size: 0.9rem; text-align: center; box-sizing: border-box; transition: all 0.2s ease-in-out; }
.hotspot-list-button:hover { background-color: var(--mau-chu); color: #ffffff; border-color: var(--mau-chinh); transform: translateY(-3px); box-shadow: 0 4px 10px rgba(0, 86, 179, 0.2); }
.amp-lightbox-map .lightbox-content-wrapper { background: rgba(23, 33, 43, 0.85); backdrop-filter: blur(4px); width: 100%; height: 100%; position: fixed; top: 0; left: 0; display: flex; align-items: center; justify-content: center; box-sizing: border-box; }
.amp-lightbox-map .lightbox-content { background: #ffffff; padding: 30px 35px; border-radius: 12px; width: 600px; max-width: 90vw; max-height: 85vh; overflow-y: auto; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); border-top: 4px solid var(--mau-chinh); }
.amp-lightbox-map .lightbox-content h3 { margin-top: 0; margin-bottom: 15px; color: var(--mau-chu); font-size: 1.8rem; font-family: 'Poppins', sans-serif; }
.amp-lightbox-map .lightbox-content div[html-bind] { line-height: 1.8; color: #333; font-size: 1rem; }
.amp-lightbox-map .lightbox-content div[html-bind] p:last-child { margin-bottom: 0; }
.amp-lightbox-map .lightbox-buttons { margin-top: 25px; padding-top: 20px; border-top: 1px solid #eee; display: flex; justify-content: flex-end; gap: 12px; }
.amp-lightbox-map .lightbox-cta-button, .amp-lightbox-map .lightbox-close-button { padding: 10px 25px; border: none; border-radius: 50px; cursor: pointer; font-weight: 700; font-size: 0.95rem; transition: transform 0.2s ease, box-shadow 0.2s ease; }
.amp-lightbox-map .lightbox-cta-button { background-color: var(--mau-chinh); color: #ffffff; text-decoration: none ; box-shadow: 0 4px 15px rgba(0, 115, 230, 0.2); }
.amp-lightbox-map .lightbox-cta-button:hover { transform: translateY(-3px); box-shadow: 0 7px 20px rgba(0, 115, 230, 0.35); }
.amp-lightbox-map .lightbox-close-button { background-color: #f1f3f5; color: #495057; }
.amp-lightbox-map .lightbox-close-button:hover { background-color: #e9ecef; }
@media (max-width: 600px) { .amp-css-hotspot-list-wrapper { margin-top: 20px; padding-top: 15px; } .hotspot-list-button { padding: 8px 16px; font-size: 0.85rem; } .amp-lightbox-map .lightbox-content { padding: 25px 20px; max-width: calc(100vw - 30px); max-height: calc(100vh - 30px); } .amp-lightbox-map .lightbox-content h3 { font-size: 1.5rem; } .amp-lightbox-map .lightbox-buttons { flex-direction: column-reverse; } .amp-lightbox-map .lightbox-cta-button, .amp-lightbox-map .lightbox-close-button { width: 100%; text-align: center; } }
/* =========================================================================
   END IMAGE MAP & HOTSPOT
   ========================================================================= */

/* =========================================================================
   [MỚI V2] CSS CHO MENU ĐA CẤP (DESKTOP & MOBILE)
   ========================================================================= */

/* --- 1. Menu Desktop (Dropdown bằng CSS) --- */
nav.main-menu ul li { position: relative; }
nav.main-menu ul li.menu-item-has-children > a::after {
    content: ' ▼'; font-size: 0.7em; margin-left: 5px; display: inline-block;
}
nav.main-menu ul .sub-menu {
    display: none; position: absolute; top: 100%; left: 0;
    background-color: #004a8f; min-width: 220px; z-index: 1000;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3); padding: 0;
    list-style: none; border-radius: 0 0 4px 4px;
}
nav.main-menu ul li:hover > .sub-menu { display: block; }
nav.main-menu ul .sub-menu .sub-menu { left: 100%; top: 0; border-radius: 4px; }
nav.main-menu ul .sub-menu li { width: 100%; }
nav.main-menu ul .sub-menu li a {
    padding: 12px 15px; border-bottom: 1px solid #0056b3; white-space: nowrap;
}
nav.main-menu ul .sub-menu li:last-child a { border-bottom: none; }
nav.main-menu ul .sub-menu li.menu-item-has-children > a::after {
    content: ' ►'; position: absolute; right: 10px;
}

/* --- 2. Menu Di động (AMP Sidebar Accordion) - NÂNG CẤP V10 (FIX VIỀN TRẮNG - FINAL) --- */
        
/* Reset <h4> của section */
amp-sidebar nav amp-accordion section h4 {
    margin: 0;
    font-weight: normal; 
    font-size: 18px;
    position: relative; 
    border: none; /* [FIX V10] Xóa border cho h4 */
}

/* Style cho TIÊU ĐỀ MỤC CÓ CON (h4.amp-menu-header) */
amp-sidebar nav amp-accordion section h4.amp-menu-header {
    padding: 15px 40px 15px 10px; 
    color: #fff;
    cursor: pointer;
    background-color: #333;
    position: relative;
    border-bottom: 1px solid #444; /* [FIX V10] Thêm lại viền cho cấp 1 */
}

/* Icon [ + ] / [ - ] cho mục có con */
amp-sidebar nav amp-accordion section h4.amp-menu-header::after {
    content: '+';
    position: absolute; 
    right: 15px; 
    top: 50%;
    transform: translateY(-50%);
    font-weight: bold;
    transition: transform 0.2s;
}
amp-sidebar nav amp-accordion section[expanded] h4.amp-menu-header::after {
    content: '−';
}

/* Style cho LINK MỤC KHÔNG CÓ CON (h4.amp-menu-link-section) */
amp-sidebar nav amp-accordion section h4.amp-menu-link-section {
    background-color: #333; 
}

/* Style cho link <a> bên trong mục không có con */
amp-sidebar nav amp-accordion section h4.amp-menu-link-section a {
    display: block;
    padding: 15px 40px 15px 10px; 
    color: #fff;
    text-decoration: none;
    border-bottom: 1px solid #444; /* [FIX V10] Thêm lại viền cho cấp 1 */
}
amp-sidebar nav amp-accordion section h4.amp-menu-link-section a:hover {
    background-color: #444; 
}

/* Nội dung menu con (cấp 2, 3...) */
amp-sidebar nav amp-accordion .sub-menu {
    background-color: #222; padding: 0 0 0 15px; margin: 0; list-style: none;
}

/* Xóa viền trên của sub-menu khi mở */
amp-sidebar nav amp-accordion section[expanded] .sub-menu {
    border-top: 1px solid #555; /* [FIX V10] Thêm viền mỏng phân tách */
}

/* [FIX V10] Ghi đè rule gốc bằng cách set border-bottom: none */
amp-sidebar nav amp-accordion .sub-menu li a {
    display: block; padding: 15px 10px; color: #fff; text-decoration: none;
    border-bottom: none; /* <-- SỬA LỖI QUAN TRỌNG NHẤT */
    font-size: 16px;
}
amp-sidebar nav amp-accordion .sub-menu li a:hover {
     background-color: #333;
}

amp-sidebar nav amp-accordion .sub-menu .sub-menu {
    padding-left: 10px; background-color: #1a1a1a;
}
amp-sidebar nav amp-accordion .sub-menu .sub-menu li a {
    font-size: 15px; 
}
amp-sidebar nav amp-accordion .sub-menu .sub-menu li a:hover {
     background-color: #2a2a2a;
}

/* [FIX V10] Ghi đè rule gốc cho các mục <li> (nếu có) */
amp-sidebar nav amp-accordion > li {
    border-bottom: 1px solid #444;
}
amp-sidebar nav amp-accordion > li > a {
    border-bottom: none; /* Ghi đè rule gốc */
}
/* --- [BƯỚC 3] CSS V11 (FIX TOÀN BỘ VIỀN - KHÔNG !IMPORTANT) --- */

/* 1. Ghi đè rule gốc cho CẤP 1 (Mục không có con) */
amp-sidebar nav amp-accordion section h4.amp-menu-link-section a {
    display: block;
    padding: 15px 10px; 
    color: #fff;
    text-decoration: none;
    font-size: 18px; 
    border: none; /* <-- FIX VIỀN */
}
amp-sidebar nav amp-accordion section h4.amp-menu-link-section a:hover {
    background-color: #444; 
}

/* 2. Ghi đè rule gốc cho CẤP 1 (Mục có con) */
amp-sidebar nav amp-accordion section h4.amp-menu-header {
    padding: 15px 40px 15px 10px; 
    color: #fff;
    cursor: pointer;
    background-color: #333;
    position: relative;
    font-weight: normal; 
    font-size: 18px;
    margin: 0;
    border: none; /* <-- FIX VIỀN */
}
amp-sidebar nav amp-accordion section h4.amp-menu-header::after {
    content: '+';
    position: absolute; 
    right: 15px; 
    top: 50%;
    transform: translateY(-50%);
    font-weight: bold;
    transition: transform 0.2s;
}
amp-sidebar nav amp-accordion section[expanded] h4.amp-menu-header::after {
    content: '−';
}
amp-sidebar nav amp-accordion section h4.amp-menu-link-section {
    background-color: #333; 
    font-weight: normal; 
    font-size: 18px;
    margin: 0;
    border: none; /* <-- FIX VIỀN */
}

/* 3. Ghi đè rule gốc cho CẤP 2+ (sub-menu) */
amp-sidebar nav amp-accordion .sub-menu {
    background-color: #222; padding: 0 0 0 15px; margin: 0; list-style: none;
}
amp-sidebar nav amp-accordion section[expanded] .sub-menu {
    border: none; /* <-- FIX VIỀN */
}
amp-sidebar nav amp-accordion .sub-menu li a {
    display: block; padding: 15px 10px; color: #fff; text-decoration: none;
    border: none; /* <-- FIX VIỀN QUAN TRỌNG NHẤT */
    font-size: 16px;
}
amp-sidebar nav amp-accordion .sub-menu li a:hover {
     background-color: #333;
}
amp-sidebar nav amp-accordion .sub-menu .sub-menu {
    padding-left: 10px; background-color: #1a1a1a;
}
amp-sidebar nav amp-accordion .sub-menu .sub-menu li a {
    font-size: 15px; 
    border: none; /* <-- FIX VIỀN */
}
amp-sidebar nav amp-accordion .sub-menu .sub-menu li a:hover {
     background-color: #2a2a2a;
}

/* === CSS CHO DANH SÁCH TIN BĐS (TỐI ƯU V2 - MOBILE-FIRST) === */
.project-listing-wrapper{
    display:flex;
    flex-direction:column;
    gap:12px; /* Giảm khoảng cách giữa các item */
    margin-top:20px
}
.project-listing-item{
    display:flex;
    /* Mobile-first: Xếp chồng lên nhau */
    flex-direction:column; 
    align-items:flex-start;
    gap:10px; /* Khoảng cách giữa content và button trên mobile */
    
    background-color:#fff;
    padding:12px 15px; /* Giảm padding (gọn hơn) */
    border-radius:8px;
    border:1px solid #e9ecef;
    box-shadow:0 2px 8px rgba(0,0,0,.06);
    transition:transform .2s,box-shadow .2s
}
.project-listing-item:hover{transform:translateY(-3px);box-shadow:0 6px 15px rgba(0,0,0,.1)}

.listing-item-content{flex-grow:1; width: 100%;} /* Đảm bảo content chiếm 100% width trên mobile */

.listing-item-title{
    font-family:'Poppins',sans-serif;
    font-size:1.05rem; /* Giảm cỡ chữ 1 */
    line-height:1.4;
    color:#20202a;
    margin:0 0 8px 0; /* Giảm lề dưới */
}
.listing-item-title a{text-decoration:none;color:inherit}
.listing-item-title a:hover{color:var(--mau-chinh)}

.listing-item-meta{
    display:flex;
    flex-wrap:wrap;
    gap: 10px 12px; /* Giảm khoảng cách */
    font-size:.85rem; /* Giảm cỡ chữ 2 */
    color:#555
}
.listing-item-meta .meta-item{
    padding-right:12px; /* Giảm padding 2 */
    border-right:1px solid #eee
}
.listing-item-meta .meta-item:last-child{border-right:none}
.listing-item-meta .price{font-weight:700;color:#dc3545}

.listing-item-action .cta-link{
    display:inline-block;
    background-color:var(--mau-chu);
    color:#fff;
    padding:6px 14px; /* Giảm padding 3 (gọn hơn) */
    border-radius:50px;
    text-decoration:none;
    font-weight:600;
    font-size:.8rem; /* Giảm cỡ chữ 3 */
    transition:background-color .2s;
    white-space:nowrap;
    margin-left:0; /* Mobile-first: không cần margin trái */
}
.listing-item-action .cta-link:hover{background-color:#004494}

/* Kích hoạt layout Desktop */
@media (min-width:600px){
    .project-listing-item{
        flex-direction:row; /* Chuyển lại layout hàng ngang */
        align-items:center;
        gap:15px;
        padding: 15px 20px; /* Trả lại padding cho desktop */
    }
    .listing-item-action .cta-link{
        margin-left:15px; /* Thêm margin cho nút trên desktop */
    }
}

/* === [FIX V8] FIX LỖI ARIA CHO AMP-CAROUSEL EVENT BAR === */

/* * amp-carousel tự động thêm [aria-hidden="true"] vào thẻ cha 
 * của slide (.event-slide) khi nó bị ẩn.
 * Bộ chọn (selector) này tìm thẻ <a> bên trong slide đang bị ẩn
 * và vô hiệu hóa nó cho trình đọc màn hình (tabindex=-1)
 * và vô hiệu hóa click chuột (pointer-events).
 *
 * Đây là cách làm hợp lệ, không vi phạm AMP Validator.
*/
#amp-event-bar div[aria-hidden="true"] a.event-notification-link {
    pointer-events: none;
    tabindex: -1;
}

/* =========================================================================
   CSS CHO HOTSPOT HIGHLIGHT (NÂNG CẤP BĐS) - SỬA LỖI LOGIC
   ========================================================================= */

/* --- 1. Style cho Hotspot trên Ảnh --- */

/* Mặc định, làm mờ các hotspot "dimmed" */
.css-hotspot-wrapper.hotspot-dimmed {
    opacity: 0.3;
    filter: blur(2px);
    transition: opacity 0.3s, filter 0.3s;
}
/* Khi hover vào hotspot mờ, nó vẫn hiện rõ */
.css-hotspot-wrapper.hotspot-dimmed:hover {
    opacity: 1;
    filter: none;
    z-index: 4; /* Nổi lên trên các hotspot mờ khác */
}

/* Làm nổi bật hotspot "highlighted" */
.css-hotspot-wrapper.hotspot-highlighted {
    z-index: 10; /* Đã xóa !important */
}
.css-hotspot-wrapper.hotspot-highlighted .hotspot-on-image {
    background-color: #dc3545; /* Đổi màu nổi bật (ví dụ: đỏ) */
    transform: scale(1.3);
    border: 2px solid #fff;
    box-shadow: 0 0 20px rgba(220, 53, 69, 0.7);
}
/* Tắt animation sonar cho các hotspot mờ, giữ cho hotspot nổi bật */
.css-hotspot-wrapper.hotspot-dimmed .hotspot-on-image::before,
.css-hotspot-wrapper.hotspot-dimmed .hotspot-on-image::after {
    animation: none;
}

/* --- 2. Style cho Danh sách (List) --- */

/* Làm mờ các mục trong danh sách */
.hotspot-list-ui li.hotspot-dimmed {
    opacity: 0.4;
    transition: opacity 0.3s;
}
.hotspot-list-ui li.hotspot-dimmed:hover {
    opacity: 1;
}

/* Làm nổi bật mục được chọn trong danh sách */
.hotspot-list-ui li.hotspot-highlighted .hotspot-list-button {
    background-color: var(--mau-chu);
    color: #ffffff;
    border-color: var(--mau-chinh);
    transform: translateY(-3px);
    box-shadow: 0 4px 10px rgba(0, 86, 179, 0.2);
}
.hotspot-list-ui li.hotspot-highlighted .hotspot-list-button:hover {
    background-color: var(--mau-chu); /* Giữ nguyên màu khi hover */
    color: #ffffff;
}
/* =========================================================================
   CSS CHO CHÚ THÍCH ẢNH (WP-CAPTION)
   ========================================================================= */

/* 1. Container chính cho khối ảnh và chú thích */
.wp-caption {
    max-width: 100%; /* Đảm bảo không bị tràn */
    margin: 5px auto; /* Tự động căn giữa và tạo khoảng cách */
    background-color: #f8f9fa; /* Nền xám cực nhạt (giống nền bảng) */
    border: 1px solid #e9ecef; /* Viền mỏng */
    border-radius: 8px; /* Bo góc */
    box-shadow: 0 4px 12px rgba(0,0,0,0.05); /* Bóng đổ nhẹ */
}

/* 2. Style cho ảnh bên trong (nếu là amp-img) */
.wp-caption amp-img {
    border-radius: 4px; /* Bo góc nhẹ cho ảnh */
    display: block;
    margin-bottom: 10px; /* Khoảng cách giữa ảnh và chú thích */
}

/* 3. Style cho văn bản chú thích */
.wp-caption-text {
    font-size: 0.9rem; /* Cỡ chữ 14.4px */
    color: #555; /* Màu chữ tối hơn một chút */
    margin: 0; /* Xóa margin mặc định của thẻ <p> */
    padding: 5px 10px 5px; /* Thêm padding cho chữ */
    text-align: center; /* Căn giữa chú thích */
    font-style: italic; /* In nghiêng */
    line-height: 1.6;
}

/* 4. Căn chỉnh (align) */
.aligncenter {
    display: block;
    margin-left: auto;
    margin-right: auto;
}
.alignleft {
    float: left;
    margin-right: 20px;
    margin-bottom: 15px;
}
.alignright {
    float: right;
    margin-left: 20px;
    margin-bottom: 15px;
}
/* Xóa float trên mobile */
@media (max-width: 600px) {
    .alignleft,
    .alignright {
        float: none;
        margin-left: auto;
        margin-right: auto;
        max-width: 100%;
    }
}
